---
title: Val Town Newsletter 22
description: Townie upgrades, Scoped API permissions, Fal partnership
pubDate: November 22, 2024
author: Steve Krouse
---

<style>
  {`
    .lineup {
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-gap: 20px;
    }
    figcaption {
      margin-top: -20px;
    }
    .border {
      border: 2px solid #eaeaea;
      padding: 5px;
    }
    #subscribe {
      font-size: 20px; 
      border: 2px solid #143f9d; 
      text-align:center; 
      border-radius: 5px; 
      text-decoration: none; 
      display: block;
    }
    #subscribe:hover {
      background-color: #143f9d;
      color: white;
    }
`}
</style>

import { Image } from "astro:assets";
import Demo from "./fal/demo.png";
import Faltown from "./fal/faltown.png";

Val Town is growing up! We're working on new features and infra that will fundamentally unlock the scope and scale of what you can build in Val Town. We have two major efforts running in parallel: projects and scale.

_Projects_ are containers for multiple vals and files ‚Äì enabling you to create infinitely complex real-world apps ‚Äì instead of being limited to a single long val. This will also improve the ability for LLM agents like Townie to help write your vals in more modular files ‚Äì so it doesn't have to generate and re-generate all the code on every change.

_Scale_ will enable you to run production workloads in Val Town, with usage-based pricing, custom alerts, and caps.

We hope to have both of these efforts live in the coming months. In the meantime, we've shipped many other features and improvements, including a dozen Townie upgrades, scoped API permissions, a partnership with Fal, and more.

As per usual, the highlight of our newsletter is at the bottom: a list of the most interesting community vals we've seen this month, such as TODO.

## ü§ñ Townie upgrades

The Townie experience has been massively upgraded this month, with a handful of the most important feature requests, and worst bugs fixed.

TODO video of restoring an old version, and possibly townie detecting and fixing an error

- By far the most common feature request for Townie has been the ability to preview the older versions of HTTP vals. This is now live! There's a dropdown in the bottom of the Preview tab in Townie to select an older version to preview, with the ability to restore that version. Thanks [Charlie](https://www.val.town/u/dcm31) for the tip to add the Restore button, and [Matt](https://www.val.town/u/neverstew) for the feedback on the wording of the button üôè
- In order to make Townie sustainable, we rolled out usage limits. The unlimited, free beta period is now over. Inference is expensive, so we can only afford to let Free-tier users try out Townie for about a dozen messages on a Haiku, a cheaper (albeit still fantastic) model. We hope this will help you get a sense of what Townie can do, and encourage you to upgrade to Pro if you want to use it regularly. If you find that you're hitting your limits as a Pro user quite often, please reach out to me at steve@val.town with more context on your use case. We're eagerly looking for feedback on a higher-level Pro tier.
- We deployed out prompt caching ([try it on Val Town](https://www.val.town/v/stevekrouse/anthropicCaching)), which saves 40% on cost, and improves latency by up to 85% for long prompts.
- We rolled out Sonnet 3.5 New, which is supposed to be even better at coding, but unfortunately had to rollback to Sonnet 3.5 Old, because the New version was resistant to writing very large blocks of code in their entirety. It added a lot of `// code remains unchanged here`. We fixed that issue with Anthropic's help, and are working through a couple other system prompt issues with Sonnet 3.5 New, but hope to get it rolled out in the coming weeks.
- Townie now detects more client-side and sever-side errors automatically, and has a clean UI to view the errors to help you decide if you want to debug them manually, dismiss them, or ask Townie to solve them for you.
- At long-last we fixed bugs with the Townie code editor getting out of sync or showing "unsaved changes" when there weren't any.

If you'd like to read more about behind-the-scenes of Townie, Tom gave a talk, which he turned into a blog post: [Building a Code Writing Robot](https://blog.val.town/blog/building-a-code-writing-robot/).

## üîê Scoped Permissions

We added API scopes to Val Town API tokens to give you more granular control over our REST API.

We have read/write scopes for:

- `val` ‚Äì [vals](https://docs.val.town/openapi#tag/vals)
- `user` ‚Äì [user account details](https://docs.val.town/openapi#tag/me)
- `blob` ‚Äì [blob storage](https://docs.val.town/openapi#tag/blobs)
- `sqlite` ‚Äì [sqlite database](https://docs.val.town/openapi#tag/sqlite)
- `email` ‚Äì [ability to send emails](https://docs.val.town/openapi#tag/emails)

The [API tokens page](https://www.val.town/settings/api)
now lets you view and configure the scope of each token.
You can also configure the scope of for each individual val
on its settings page.
[Learn more ‚û°](/blog/api-token-scopes/)

## üåÑ Fal Partnership

We announced a partnership with [Fal](https://fal.ai/), to bring their
lightning-fast image generation API to Val Town users.
[Learn more ‚û°](/blog/fal/)

<div class='lineup'>
  <div align="center">
    <a href="https://www.val.town/v/stevekrouse/falDemoApp"> 
      <Image src={Demo} alt="Simplest possible Fal app" class="border" />
      <figcaption>
        Simplest possible Fal app
      </figcaption>
    </a>
  </div>

  <div align="center">
    <a href="https://www.val.town/v/fal/faltown">
      <Image src=  {Faltown} alt="Simplified Midjourney, with type-safe API client, blob storage" class="border" />
      <figcaption>
      "Faltown" ‚Äì variants, API client, blob storage
      </figcaption>
    </a>
  </div>
</div>

## Updated Pricing Page

We've made some long-overdue updates to our pricing page.

TODO photo

Here's what changed:

- Expanded the Pro tier from 100 to 500 HTTP val req / min ‚Äì thanks [Izu](https://www.val.town/u/izuchukwu) for the request üôè
- Listed custom domains on the Pro tier
- Lowered the number of private or unlisted vals on the Free tier from 100 to 10. (We have yet to enforce this. If we ever do enforce it, we will grandfather in any vals created before we enforce it. Please reach out if you have feedback about it.)
- Removed some stale limitations we never enforced

Note - we don't enforce all of these limits today. For example, Free tier users can make over 10 runs per minute. We're figuring out the right balance between signaling what we can support at scale, without adding unnecessary friction for users. This will all shift around for the better when we roll out our scale plan.

## üì∫ Videos

Videos are a great way to learn the pro tips & tricks for Val Town. This month I live coded with two wonderful guests:

- **[Creating customer-enrichment workflows](https://www.youtube.com/live/wOyfS9-Q01I) with [Justin Duke](https://jmduke.com/)**, founder of [Buttondown](https://buttondown.email/)
- **[Prototyping Markdown Extensions](https://www.youtube.com/live/oBuJoVV_yWc) with [Boris Berenberg](https://www.nothingeasyaboutthis.com/)**
- Hassan TODO

We were also featured in [three](https://www.youtube.com/watch?v=j5SfOA7gGfw) [YouTube](https://www.youtube.com/watch?v=l9NyuajxjrI) [videos](https://www.youtube.com/watch?v=yMHDBQp5hbE), which led to thousands of new subscribers. If that includes you ‚Äì welcome! Thanks AICodeKing, Julian Goldie, and Emre Kabli for the video üôè

## üéâ Other updates

- You can now view all your vals on your own profile page ‚Äì even private ones ‚Äì configurable via a filter ‚Äì thanks [Fabian](https://fabian.ai/) for the request üôè
- Simplified and unified buttons to edit a val's name, type, etc ‚Äì thanks [Fabian](https://fabian.ai/) for the request üôè
- [Others' vals are focusable and searchable](https://x.com/stevekrouse/status/1851670974019559621)
- HTTP errors always have stacktraces, which link directly to val source lines
- We improve val generated names and validation
- Fix our CORS headers ‚Äì thanks [Andreas](https://www.val.town/u/rozek) üôè
- Improve our Custom Domains UI and docs
- Added buttons to the val versions page to preview old versions, view their code, and delete them
- Fixed the logs showing old traces that stalled
- Fixed cron UI bug
- Discontinued Eval API and upgraded all HTTP vals to the new concurrent runtime
- [Fixed beta & structured outputs for std/openai](https://www.val.town/v/stevekrouse/openai_structured_output_demo) ‚Äì thanks [Alfonso](https://www.val.town/u/alfongj) for the bug report üôè
- Added a link to edit your profile photo on the profile settings page ‚Äì thanks [Ivan](https://www.val.town/u/spiralganglion) for the bug report üôè
- Removed all browser `alert` and `confirm` in favor of proper modals

## üõ£Ô∏è Roadmap

- Multi-file Projects
  - allow huge real projects, relative imports, three-way merges - launch in Dec
  - maybe screenshot
- /explore - a new page to find interesting vals
- Val- & project- scoped environment variables
- LLM Switcher for Townie
- Experimenting with diffs, fast-edit, tool-use for Townie speed
- Team accounts
- Websocket vals
- Searchable & filterable logs and traces
- Scale plan ‚Äì scale to infinity & usage-based pricing, with custom alerts & caps
- SOC2
- Townie integrated into the full-screen editor
- Improved code search
- Hyphens in val names
- Comments on pull requests

- TODO - maybe a section for: blob storage view in settings
- TODO - pull latest commits

Please [make feature requests and vote](https://github.com/val-town/val-town-product/discussions?discussions) on what you'd like to see next.

## üåü Community vals

- https://x.com/DanPhilibin/status/1852052119521542552
- https://x.com/stevekrouse/status/1852024470958989517
- https://docs.val.town/integrations/stripe/
- https://blog.val.town/blog/val-town-town/
- https://x.com/stevekrouse/status/1851994923957985567
- https://www.val.town/v/vprtwn/svaltown
- https://x.com/deepfates/status/1846998463759913158]
- https://www.val.town/v/loading/xp
- https://www.val.town/v/JamesAndrew/ai8000
- https://www.val.town/v/trollishka/giftsuggestionapp
- https://www.val.town/v/willthereader/SafeReminder
- prompt token counter https://prashamtrivedi-tokencounter.web.val.run/
- https://www.val.town/v/g/countGithubLOCUI
- https://www.val.town/v/trob/multilingualchatroom
- https://val.town/v/vawogbemi/characterguesser
- https://www.val.town/v/stevekrouse/claude_speed_test
- https://www.val.town/v/stevekrouse/openai_structured_output_demo
- https://x.com/DanPhilibin/status/1849823537034305704
- https://www.val.town/v/vprtwn/svaltown
- https://x.com/destroytoday/status/1856709997737984089
- https://x.com/MO_warsi786/status/1856995667790397885
- https://x.com/jesi_rgb/status/1856654868611530782
- https://x.com/0xperp/status/1853891992780251416
- https://x.com/simplescraper/status/1851964365613994373
- https://www.val.town/v/stevekrouse/dns_record_debugger
- https://ashryanio-randodisc.web.val.run/
- https://www.val.town/v/stevekrouse/dogfooding
- https://www.val.town/v/muhammad_owais_warsi/imageGen
- https://www.val.town/v/JamesAndrew/stylishPlumSalamander
- https://all-passwordgen.web.val.run/
- https://www.val.town/v/michaelwschultz/generateframeImage
- https://www.val.town/v/nbbaier/simpletext
- https://yawnxyz-og.web.val.run/
- https://www.val.town/v/dhanush_suvarna/flighty
- https://www.val.town/v/yawnxyz/githubParser
- https://www.val.town/v/jake/smallAndCuteSnakeGame
- https://juansebsol-rudeai.web.val.run/
- https://maxm-draggableemojigarden.web.val.run/
- TODO - tweet about these three, and link to the tweet in discord
- https://www.val.town/v/trob/prompt_to_code_auto_refresh_codebed
- https://www.val.town/v/JamesAndrew/tenaciousPlumWoodpecker
- https://vimeo.com/1029083124/fed022ab5d
- https://www.val.town/v/peterqliu/mayor_setup
- https://gueejla-squareroot.web.val.run/?inputNum=16
- https://maxm-peacefulscarletmacaw.web.val.run/
- https://x.com/Andre_Terron/status/1859477394819887608
- https://discord.com/channels/1020432421243592714/1279542466357366804/1294444150510456893 (could link to a tweet/bluesky post)
- wolf magic imports: https://discord.com/channels/1020432421243592714/1279542466357366804/1295911703040622662
- https://x.com/Willthereader/status/1859023415421845824
- https://x.com/stevekrouse/status/1858969996325777783
- https://osspledge.com/ redirect is hosted on us
- https://www.val.town/v/loading/file - needs more explaining probably
- https://val.town/v/willthereader/fullWebsiteChecker - in progress
- https://www.val.town/v/vawogbemi/TaylorSwiftMoments
- https://val.town/v/vprtwn/svaltown
- https://val.town/v/willthereader/ThankYouNoteGenerator
- https://www.val.town/v/maxm/simpleWikipediaInstantSearch
- https://www.val.town/v/spinningideas/webpage_summarizer
- https://www.val.town/v/reginafoley/createFlashcardsVal
- https://www.val.town/v/mikehiggins/sanguineCyanMastodon
- https://www.val.town/v/bladesquad/thrillingAmaranthKiwi
- https://www.val.town/v/tayfur54/helloWorldServer
- https://www.val.town/v/janu/dataDash
- https://www.val.town/v/michaelwschultz/generateframeImage
- https://stevekrouse-llamapalooza.web.val.run/
  https://www.val.town/v/prashamtrivedi/summarizeHn
  https://www.val.town/v/bladesquad/expositionAgencyPage
  https://www.val.town/v/prashamtrivedi/tokencounter
  https://www.val.town/v/danieladmsf/gregariousIvoryOstrich
  https://www.val.town/v/vip/rss_feed_ai_analysis
  https://www.val.town/v/jaredsilver/startup_clicker
  https://www.val.town/v/stevekrouse/passwordgame
  https://www.val.town/v/gigmx/diligentSapphireOrca
  https://www.val.town/v/all/jamz
  https://www.val.town/v/mikehiggins/tfidf_analyser_90s_version
  https://www.val.town/v/janu/airSource
  https://www.val.town/v/vandermerwed/dailyScheduleTracker
  https://www.val.town/v/torlanco/shirtGen
  https://www.val.town/v/danphilibin/what_did_i_work_on_today
  https://www.val.town/v/jonbo/cabinAdjacentTweets - might be an issue with exposed discord urls!
  https://www.val.town/v/jaredsilver/leadership_styles_inventory
  https://www.val.town/v/d17e/qrCodeWebhook
  https://www.val.town/v/nn/bingo
  https://www.val.town/v/youkq95/PaintSeq
  https://www.val.town/v/yawnxyz/phagepapersCron
  https://www.val.town/v/spinningideas/interview_practice
  https://www.val.town/v/gwoods22/aws_eventbridge_toggler
  https://www.val.town/v/gigmx/linkInBioTemplate
  https://www.val.town/v/nulo/tweetArchiveViewer
  https://www.val.town/v/alfongj/ethereumAddressGenerator
  https://www.val.town/v/stef/feeds
  https://www.val.town/v/all/podcast
  https://www.val.town/v/ntontischris/travelSurveyApp
  https://www.val.town/v/all/wittyTurquoiseDove
  https://www.val.town/v/all/savvyPurpleSpoonbill
  https://www.val.town/v/willow/htmlToMarkdownConverter
  https://www.val.town/v/jidun/Ms_Spangler
  https://www.val.town/v/evanrh/Update_Wise_Old_Man
  https://www.val.town/v/zlpkhr/neighborhoodOrderApp
  https://www.val.town/v/nemonicui/BreathingInstructional
  https://www.val.town/v/tk120404/solarsystem
  https://www.val.town/v/alfongj/crossmintSolanaTxGenerator
  https://www.val.town/v/stevekrouse/usageAlert
  https://www.val.town/v/Mashimi/insectIdentifier
  https://www.val.town/v/jamiedubs/glifbux - SO FREAKING COOL!
  https://www.val.town/v/natsa/genuineBrownErmine
  https://www.val.town/v/aggy/valcoinDashboard
  https://www.val.town/v/hunty/FetchBasic
  https://www.val.town/v/dazzag24/zwiftPortalSchedule
  https://www.val.town/v/minhee/FedifyOnValTown
  https://www.val.town/v/metart43/us_election_color_scheme
  https://www.val.town/v/daniel1987600/magnificentJadeDonkey
  https://www.val.town/v/yawnxyz/counter
  https://www.val.town/v/nsafouane/effortlessAquamarineHookworm
  https://www.val.town/v/vawogbemi/solanaPayDemo
  https://www.val.town/v/Fairestofthemall/searchSectorsApp
  https://www.val.town/v/jesi_rgb/secretsanta
  https://www.val.town/v/bmitchinson/Send_Errors_to_Email
  https://www.val.town/v/stevekrouse/firehose
  https://www.val.town/v/manyone/wordclock
  https://www.val.town/v/mahtabtattur/plantIdentifierApp
  https://www.val.town/v/maxharper26/api_v1
