---
title: Val Town Newsletter 18
description: HTTP Streaming, Semantic Search, Townie AI Chat, and a TypeScript SDK
pubDate: June 25, 2024
author: Steve Krouse
---

import { Image } from "astro:assets";
import Semantic from "./val-town-newsletter-18/semantic.png";
import Townie from "./val-town-newsletter-18/townie.png";
import Profile from "./val-town-newsletter-18/profile.png";
import SDK from "./val-town-newsletter-18/sdk.png";

We shipped HTTP streaming, semantic search, and Townie, an AI chatbot that knows how to write vals. We released a TypeScript SDK and OpenAPI spec for the Val Town API. We redesigned profiles, public likes, and named API tokens.

We're working on making it easier to organize and navigate vals, along with improvements to search, Townie and other LLM experiments, and the ability to stop a running val.

Community vals - TODO summary

If you enjoy reading these newsletters so much that you'd like to write them, we're [hiring a content-focused devrel person](https://x.com/stevekrouse/status/1805316371804569626) at Val Town. I think it's a very fun job! (I'm biased.)

### üåä HTTP Streaming

You can stream data from vals! Our new [open-sourced HTTP worker](https://github.com/val-town/deno-http-worker) enables us to increase request size limits from 2mb to 100mb and make response sizes unlimited. Read more in the [HTTP Streaming announcement](/blog/http-streaming/).

<video controls loop autoplay>
  <source src="/video/chatgpt-streaming.mp4" />
</video>

## Val Semantic Search

We have a new search mode that uses OpenAI embeddings to give you a val with the same "vibes" as your search query. It's currently its own mode labelled "semantic search" ‚Äì [try it out yourself!](https://www.val.town/search?searchType=semantic) We're planning to combine it with the exact search to give you a wholistic search experience. Learn more in the [Semantic Search announcement](/blog/val-vibes/).

<Image src={Semantic} alt="Semantic search for 'wikipedia api'" />

## Townie

We built a toy little chatbot, Townie, that's basically ChatGPT that knows a bunch of common Val Town patterns. Pretty good at generating working code. You can see below me asking it for help on a fairly complex task [from Pat LaVarre](https://x.com/pelavarre/status/1804191746760544676). It doesn't give me what I ask for ‚Äì it gives me something better ‚Äì that immediately worked. And it did it zero-shot (on its first try). It works even better if you give it feedback in a couple iterations. [Try it out!](https://www.val.town/townie)

<Image src={Townie} alt="Townie chatbot example generating a wikipedia proxy" />

## Upgraded OpenAPI & TypeScript SDK

After a herculean effort to port our Express server to Fastify, we were able to generate a good [OpenAPI schema](https://api.val.town/openapi.json), [interactive API docs](https://api.val.town/documentation), and [TypeScript SDK](https://github.com/val-town/sdk). [Try it out yourself!](https://www.val.town/v/stevekrouse/demoSDK) Shout-out to our friends at [Stainless](https://www.stainlessapi.com/) for help with the SDK.

<Image src={SDK} alt="Demo of the Val Town's API SDK" />

## Profile redesign, public likes

Your profile page is now prettier and a bit more functional. You can view your vals in a list or a grid, as well as the vals you liked. We're reimagining your profile as a jumping off point to explore your vals. Coming soon: sorting and filtering for vals in your profile.

<Image
  src={Profile}
  alt="Screenshot of @iamseeley's Val Town profile with 143 vals, 14 public likes, and a grid of their vals"
/>

## üì∫ Livestreams

Livestreams are a great way to learn Val Town by watching others. And if you watch live, you can ask questions and we'll answer! Or heckle. That's fun too.

Since the last newsletter, I spoke with:

{/* TODO add in what we built & links */}

- [Simon Willison](https://www.youtube.com/watch?v=9pmC3P1fUFo)
- [Linus Lee](https://www.youtube.com/watch?v=5nYPeK9_X6o) - made a [websim clone](https://www.val.town/v/thesephist/webgen) to hallucinate websites
- [Geoffrey Litt](https://www.youtube.com/watch?v=X9h5wxUuuTI)
- [Max Bittker](https://www.youtube.com/watch?v=6QGjdDGEkyI)

Tune into the [next episode this Thursday at 10am ET with Mary Rose Cook](https://www.youtube.com/watch?v=QrOSpPWg8gc)!

Our friend Beniamin also is making wonderful Val Town livestreams! I loved this one where he [used GPT4 to summarize many newsletters into one](https://www.youtube.com/watch?v=u9tU5p3uSKQ).

### Other updates

- Fixed bug where the cursor would reset to the beginning of the first line! (really annoying)
- Have logs stream in while a val is running (very confusing)
- Load more logs button (hopefully a bit better)
- Fully selectable URL box for Val Preview
- Truncated val readme with a ‚Äúview more‚Äù button
- New autogenerated (more correct) OpenAPI schema
- [val.town/newest](https://www.val.town/newest) with view options (to see what‚Äôs going on on the platform quickly)
- Copy code button in markdown js, ts, jsx and tsx snippets
- Moved the search icon to a better spot in the mobile header
- Create val with types via API
- Added three "getting started" examples to user's workspaces
- Names for Val Town API tokens
- TODO get more from the commit log

## üõ£Ô∏è Roadmap

### What we're working on

- Side panel for folders & vals
- Filters & sorts in user profiles
- [Better features for organizing vals](https://github.com/val-town/val-town-product/discussions/10)
- [Usage tracking](https://github.com/val-town/val-town-product/discussions/19)
- Val detail page improvements
- [Stop a running val](https://github.com/val-town/val-town-product/discussions/117)
- [Search improvements](https://github.com/val-town/val-town-product/discussions/69) (combining exact & semantic)

### Coming soon

Here's some of the top features we're planning to work in the coming months. Please [make feature requests and vote](https://github.com/val-town/val-town-product/discussions?discussions) on what you'd like to see next.

- [Receive attachments from email handlers](https://github.com/val-town/val-town-product/discussions/75)
- [Full-screen val editor](https://github.com/val-town/val-town-product/discussions/14)
- [Dashboard](https://github.com/val-town/val-town-product/discussions/8)
- Usage-based pricing plan
- [LLM-generated vals](https://github.com/val-town/val-town-product/discussions/47)
- [Val runtime performance](https://github.com/val-town/val-town-product/discussions/113)

## üåü Community Vals

{/* - https://www.val.town/v/pomdtr/lastlogin */}

- [Achille](https://val.town/u/pomdtr) stunned us all again with an authentication middleware val so powerful, it just may be the ["last login" you'll ever need](https://www.val.town/v/pomdtr/lastlogin). It also comes with a [hono adapter](https://www.val.town/v/pomdtr/lastloginHono).
  {/* - https://www.val.town/v/maxm/valTownChatGPT */}
- [Max](https://val.town/u/maxm) made a series of demos to show us all how to stream: [hello world for streaming HTTP responses](https://www.val.town/v/maxm/streamingResponseExample) that sends a new message every second, [simple server-sent events demo](https://www.val.town/v/maxm/SSEDemo), a [clone of robpike.io](https://www.val.town/v/maxm/robPikeIO), [streaming OpenAI threads](https://www.val.town/v/maxm/openAIStreaming), a [mini ChatGPT clone](https://www.val.town/v/maxm/valTownChatGPT), a [GIF that streams frames](https://www.val.town/v/maxm/streamingGif), [multiplayer circles](https://www.val.town/v/maxm/multiplayerCircles), [an endless maze](https://www.val.town/v/maxm/endlessMazeStream), [NYC's traffic cameras as streaming ASCII images](https://www.val.town/v/maxm/asciiNycCameras)
- [Thomas](https://www.val.town/u/iamseeley) made and remade his personal website 8 times (!!!) to show different frontend patterns on Val Town and their [relative performance](https://www.val.town/v/iamseeley/webPerformance): [Client-side React](https://www.val.town/v/iamseeley/reactServer), [Client-side React via CDN](https://www.val.town/v/iamseeley/clientMultirouteReact), [Svelte](https://www.val.town/v/iamseeley/multirouteSvelte), [Preact](https://www.val.town/v/iamseeley/multiroutePreact), [Vue](https://www.val.town/v/iamseeley/multirouteVue), [Hono](https://www.val.town/v/iamseeley/multirouteHono), [React](https://www.val.town/v/iamseeley/multirouteReact), and [HTML as String](https://www.val.town/v/iamseeley/multirouteHTML)
- [Steve](https://val.town/u/stevekrouse) rebuilt the [Date Me Directory](https://dateme.directory) (currently in Hono HTML) as [client-side React (with React Router)](https://www.val.town/v/stevekrouse/dateme_react_client), as well as a version that also has [server-side rendering](https://www.val.town/v/stevekrouse/dateme_react_hydrated). We'll figure out the frontend patterns if we have to build and rebuild all our vals a million times to do it!
  {/* - https://www.val.town/v/alvi/SteamPlaytimeHistory_playHistoryToSqlite */}
- [Alvi](https://val.town/u/alvi) is [collecting his Steam playtime history](https://www.val.town/v/alvi/SteamPlaytimeHistory_playHistoryToSqlite) to a SQLite database, so he can analyze his gaming habits
  {/* - https://www.val.town/v/stevekrouse/status */}
- [Steve](https://val.town/u/stevekrouse) made an [uptime status page](https://www.val.town/v/stevekrouse/status) built on top of data collected by an [uptime monitor cron](https://www.val.town/v/healeycodes/isMyWebsiteDown)
- [Thomas](https://val.town/u/iamseeley) made [a series of vals around JSON Resume](https://iamseeley-resumehandler.web.val.run/)
  {/* - https://www.val.town/v/iamseeley/sendSMS */}
- [Thomas](https://val.town/u/iamseeley) is [sending SMS](https://www.val.town/v/iamseeley/sendSMS) via email!
  {/* - https://www.val.town/v/jonbo/MADBOTS */}
- [Jon](https://val.town/u/jonbo) made [a bot that ensures a Supabase websocket listener is alive](https://www.val.town/v/jonbo/MADBOTS)
  {/* - https://www.val.town/v/pomdtr/astro */}
- [Achille](https://val.town/u/pomdtr) somehow figured out how to [run Astro in Val Town](https://www.val.town/v/pomdtr/astro)! Here are the [Val Town Docs hosted in Val Town](https://pomdtr-docs.web.val.run/) ü§Ø
  {/* - https://www.val.town/v/arrudaricardo/random_change_github_status */}
- [@arrudaricardo](https://val.town/u/arrudaricardo) [changes his GitHub status](https://www.val.town/v/arrudaricardo/random_change_github_status) to a random emoji every day
  {/* - https://www.val.town/v/jcoleman/saveEmailSignupsDeerSpringBakery */}
- [@jcoleman](https://val.town/u/jcoleman) [saves email signups](https://www.val.town/v/jcoleman/saveEmailSignupsDeerSpringBakery) for Deer Spring Bakery
  {/* - https://www.val.town/v/pomdtr/freeformServer */}
- [Achille](https://val.town/u/pomdtr) brought a [taste of Observable Framework to Val Town](https://www.val.town/v/pomdtr/freeformServer)
  {/* - https://www.val.town/v/maxm/freshChartsExample */}
- [Max](https://val.town/u/maxm) cobbled together [some Deno fresh charts](https://www.val.town/v/maxm/freshChartsExample) as HTML or images
  {/* - https://www.val.town/v/domingo1987/problemPython */}
- [Domingo](https://val.town/u/domingo1987) created a [Python problem exchange backend](https://www.val.town/v/domingo1987/problemPython) for a custom GPT
  {/* - https://www.val.town/v/nws/api */}
- [Jordan](https://www.val.town/u/jordan) made some [vals relating to the National Weather Service](https://www.val.town/u/nws), including [a Bluesky feed generator](https://www.val.town/v/nws/feeds)
  {/* - https://www.val.town/v/kingishb/blackLobster */}
- [@kingish](https://val.town/u/kingishb) gets a [weekly email digest of good times to go on a bike ride](https://www.val.town/v/kingishb/blackLobster)
  {/* - https://www.val.town/v/pomdtr/devtools */}
- [Achille](https://val.town/u/pomdtr) created [middleware that adds handy debug links](https://www.val.town/v/pomdtr/devtools) to get to a val's code and log
  {/* - https://www.val.town/v/stevekrouse/favFarm */}
- [Steve](https://val.town/u/stevekrouse) made [a little clone](https://www.val.town/v/stevekrouse/favFarm) of Wes Bos's wonderful [fav.farm](https://fav.farm/) for when you need a quick little favicon out of an emoji
  {/* - https://www.val.town/v/pomdtr/setEnv */}
- [Achille](https://val.town/u/pomdtr) found a clever workaround to [set temporary environment variables](https://www.val.town/v/pomdtr/setEnv)
  {/* - https://www.val.town/v/yawnxyz/buildclubProjectSearch */}
- [Jan](https://val.town/u/yawnxyz) built an [vector search](https://www.val.town/v/yawnxyz/buildclubProjectSearch) on top of Lunr and Airtable
  {/* - https://www.val.town/v/camajudson/handleDiscordInteraction */}
- [@camajudson](https://val.town/u/camajudson) built a [Discord bot for the Cama community](https://www.val.town/v/camajudson/handleDiscordInteraction)
  {/* - https://www.val.town/v/stevekrouse/openaiStreamingDemo */}
- [Steve](https://val.town/u/stevekrouse) made a [simple OpenAI streaming demo](https://www.val.town/v/stevekrouse/openaiStreamingDemo) and [one that streams back _rendered_ HTML](https://www.val.town/v/stevekrouse/openaistreaminghtml). Why make HTML when ChatGPT will write it for you?
  {/* - https://www.val.town/v/yawnxyz/blurbs */}
- [Jan](https://val.town/u/yawnxyz) made a [blurb generator](https://www.val.town/v/yawnxyz/blurbs) that inputs a link and outputs a blurb and a bunch of tags
  {/* - https://www.val.town/v/tfayyaz/searchmessages */}
- [@tfayyaz](https://val.town/u/tfayyaz) demoed [search messages](https://www.val.town/v/tfayyaz/searchmessages) with HTMX
  {/* - https://www.val.town/v/chet/HtmlFormatter */}
- [Chet](https://val.town/u/chet) made an [HTML formatter](https://www.val.town/v/chet/HtmlFormatter)
  {/* - https://www.val.town/v/stevekrouse/geolocation_api_demo */}
- [Steve](https://val.town/u/stevekrouse) demoed how to get [geolocation data in a website](https://www.val.town/v/stevekrouse/geolocation_api_demo)
  {/* - https://www.val.town/v/nmsilva/supabaseCache */}
- [@nmsilva](https://val.town/u/nmsilva) made a [Supabase cache](https://www.val.town/v/nmsilva/supabaseCache)
  {/* - how to import wasm binary manually https://www.val.town/v/maxm/imageMagickWasmExample */}
- [Max](https://val.town/u/maxm) showed us how to [import a wasm binary manually](https://www.val.town/v/maxm/imageMagickWasmExample)
  {/* - https://www.val.town/v/l3gacyb3ta/heat_at_point */}
- [@l3gacyb3ta](https://val.town/u/l3gacyb3ta) wrote [a script to calculate the heat at a point](https://www.val.town/v/l3gacyb3ta/heat_at_point) on a map
  {/* - most popular obsidian plugins https://www.val.town/v/danielkerrigan/obsidianPlugins */}
- [Daniel](https://val.town/u/danielkerrigan) fetched [the most popular Obsidian plugins](https://www.val.town/v/danielkerrigan/obsidianPlugins) from Github
  {/* - https://iamseeley-texttoimageplayground.web.val.run/ */}
- [Thomas](https://val.town/u/iamseeley) made a [text to image playground](https://iamseeley-texttoimageplayground.web.val.run/) for Fal.ai
  {/* - https://www.val.town/v/banebot/GreetingCard */}
- [@banebot](https://val.town/u/banebot) made a [greeting card generator](https://www.val.town/v/banebot/GreetingCard)
  {/* - https://www.val.town/v/yawnxyz/getContentFromUrl */}
- [Jan](https://val.town/u/yawnxyz) made a [val that gets content from a URL](https://www.val.town/v/yawnxyz/getContentFromUrl) for summerizers. It combines https://r.jina.ai/URL and markdown.download's Youtube transcription getter to do its best to retrieve content from URLs.
  {/* - https://www.val.town/v/pomdtr/wanix */}
- [Achille](https://val.town/u/pomdtr) got [WANIX](https://www.val.town/v/pomdtr/wanix) (a web-native unix) running in a val
  {/* - https://www.val.town/v/iamseeley/valBackup */}
- [Thomas](https://val.town/u/iamseeley) made a [val that backs up his vals to Github](https://www.val.town/v/iamseeley/valBackup)
  {/* - https://www.val.town/v/nicoalbanese/tomatoMinnow - vercel streaming ai */}
- [Nico](https://val.town/u/nicoalbanese) demoed [Vercel's AI SDK Streaming](https://www.val.town/v/nicoalbanese/tomatoMinnow)
  {/* - https://www.val.town/v/rattrayalex/slack_cleaner */}
- [Alex](https://val.town/u/rattrayalex) made a site to paste & clean [Slack messages](https://www.val.town/v/rattrayalex/slack_cleaner)
  {/* - https://www.val.town/v/jasonhibbs/priceTracker */}
- [Jason](https://val.town/u/jasonhibbs) made a [price tracker](https://www.val.town/v/jasonhibbs/priceTracker) for the Emma Luxe Cooling Mattress
  {/* - https://www.val.town/v/seanehalpin/placemarkGlobeMonitor (using tom's thing) */}
- [Sean](https://val.town/u/seanehalpin) is [tracking their figma plugin statistics](https://www.val.town/v/seanehalpin/placemarkGlobeMonitor)
  {/* - https://www.val.town/v/pomdtr/serveGithubRepo */}
- [Achille](https://val.town/u/pomdtr) made a [val that serves a Github repo](https://www.val.town/v/pomdtr/serveGithubRepo)
  {/* - https://www.val.town/v/hunty/spotify */}
- [@hunty](https://val.town/u/hunty) made a [Spotify endpoints for play state](https://www.val.town/v/hunty/spotify)
  {/* - https://www.val.town/v/bdon/usd_twd_converter */}
- [@bdon](https://val.town/u/bdon) made a [USD to TWD converter](https://www.val.town/v/bdon/usd_twd_converter)
  {/* - https://www.val.town/v/matthiasraimann/WebComponentExample */}
- [Matthias](https://val.town/u/matthiasraimann) made a [web component example](https://www.val.town/v/matthiasraimann/WebComponentExample)
  {/* - https://www.val.town/v/stevekrouse/dns */}
- [Steve](https://val.town/u/stevekrouse) made [a site to lookup DNS records](https://www.val.town/v/stevekrouse/dns)
  {/* - https://www.val.town/v/yawnxyz/ragwithclaude_ui */}
- [Jan](https://val.town/u/yawnxyz) made the beginnings of a [UI for a Simon Willison's RAG search](https://www.val.town/v/yawnxyz/ragwithclaude_ui)
  {/* - https://www.val.town/v/stevekrouse/anthropicStreamDemo */}
- [Steve](https://val.town/u/stevekrouse) made a [streaming demo with Anthropic Claude](https://www.val.town/v/stevekrouse/anthropicStreamDemo)
  {/* - https://www.val.town/v/ashryanio/generateQrCode */}
- [@ashryan](https://val.town/u/ashryanio) made a [QR code generator](https://www.val.town/v/ashryanio/generateQrCode)
  {/* - https://www.val.town/v/zerovox/readwiseReaderReadItemsRss */}
- [@zerovox](https://val.town/u/zerovox) made [an RSS feed from his items from Readwise reader](https://www.val.town/v/zerovox/readwiseReaderReadItemsRss) to be ingested to Workflowy
  {/* - https://www.val.town/v/yawnxyz/duckdbExample */}
- [Jan](https://val.town/u/yawnxyz) demoed [DuckDB](https://www.val.town/v/yawnxyz/duckdbExample)
- https://www.val.town/v/nerdymomocat/add_to_habitify_from_todoist_w_ai
- https://www.val.town/v/iamseeley/hfApiGateway
- https://www.val.town/v/ashryanio/generateRandomSecret
- https://www.val.town/v/gwoods22/macdonald_block_updates
- https://www.val.town/v/emarref/XeroWebhookMiddlewareValidateRequest & https://www.val.town/v/emarref/HttpMiddlewareRequireValidHmacSignature & https://www.val.town/v/emarref/HttpMiddlewareChain & https://www.val.town/v/emarref/IntentToReceive
- https://www.val.town/v/yawnxyz/blobbyFace
- https://www.val.town/v/saolsen/codemirrorTsBrowserEmacs on top of https://www.val.town/v/maxm/codemirrorTsBrowser
- https://www.val.town/v/charlypoly/exampleTopHackerNewsDailyEmail
- https://www.val.town/v/brianleroux/scrapecapfriendly
- https://www.val.town/v/stevekrouse/valwriter_react_clientside
- https://www.val.town/v/yawnxyz/SidebarToArchive
- https://www.val.town/v/iamseeley/threedEmoji
- https://www.val.town/v/triptych/hitCounter
- https://www.val.town/v/laidlaw/books
- https://www.val.town/v/yawnxyz/nighthawksChat
- https://www.val.town/v/maxm/bloomingButton
- https://www.val.town/v/midnightlightning/uniswapV3Position
- TODO
  - review tweets on my personal and company
  - review discord messages
  - add all the new subscribers to sendgrid
  - continue looking in newest
    {/* TODO: browserbase vals: https://www.val.town/v/charlypoly/valBlogWatcherCron https://www.val.town/v/charlypoly/websiteHasChanged https://www.val.town/v/charlypoly/browserbasePuppeteerExample https://www.val.town/v/charlypoly/browserbaseUtils */}
    {/* - https://www.val.town/v/vawogbemi/dateme TODO put this higher, tweet about it */}
    {/* - [Victor](https://val.town/u/vawogbemi) made a [Date Me Directory clone](https://www.val.town/v/vawogbemi/dateme) but for a man in finance (6'5, blue eyes) */}
    {/* - https://www.val.town/v/geoffreylitt/twitterDailyDigest (link to tweet?) https://www.val.town/v/geoffreylitt/getTweets TODO */}
    {/* - https://www.val.town/v/plr/fetchTodaysNytCxPuzzle & https://www.val.town/v/plr/fetchTodaysNytCxGridAndClues TODO */}
    {/* - TODO https://www.val.town/v/stevekrouse/emojiExploder / jdan‚Äôs and mine with backlinks / jdan notion emoji thing */}
    {/* - https://www.val.town/v/stevekrouse/wikiOG (and the other one TODO) */}
